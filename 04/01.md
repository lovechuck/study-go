# 日志

## 选型

- 能够平缓接入 ELK
- 性能极高，接入 ELK 时，不能因为 ELK 不可用导致程序本身的性能下降甚至崩溃
- 能够根据不同的场景、level 写到不同的日志文件中
- 能够根据文件大小、日期等滚动文件

## 类库

logrus star 8800+ 参与者 191
https://github.com/sirupsen/logrus

zap star 5500+ 参与者 48
https://github.com/uber-go/zap

## 文档

logrus
https://godoc.org/github.com/sirupsen/logrus

zap
https://godoc.org/go.uber.org/zap#pkg-examples


## 能够平缓接入 ELK

logrus 支持第三方 hook 支持
https://github.com/sohlich/elogrus

支持 ELK 文件格式

zap 需要自己编码实现
https://github.com/uber-go/zap/issues/196

## 性能极高，接入 ELK 时，不能因为 ELK 不可用导致程序本身的性能下降甚至崩溃

zap > logrus
https://github.com/imkira/go-loggers-bench


## 能够根据不同的场景、level 写到不同的日志文件中

logrus
第三方支持
https://github.com/rifflock/lfshook

zap
https://godoc.org/go.uber.org/zap#pkg-examples

## 能够根据文件大小、日期等滚动文件

希望接入其他的日志平台而不是写入文件

logrus 第三方支持
https://github.com/natefinch/lumberjack
github.com/lestrrat-go/file-rotatelogs

zap 第三方支持
https://github.com/natefinch/lumberjack


## 介绍
https://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&mid=2653550084&idx=1&sn=3ce56d376e48deaa2df39f547612e123&chksm=813a679cb64dee8a2183a4b8261461f708e94567d4f55c5771c9858ca4fbbd3335d4e72dbf6b&mpshare=1&scene=1&srcid=0815cToh23ywJYBo8R3xeVFv&key=f4bed46e73bdcc57fe1e28c7cf41faf26826d41e959b77b8362ec8295f4374ed255a489454b34440cf786dc77741b1f25777241e3d5c1897d9453ba95d354208024c46561f2b4fd3dcd7d6c124ce5d97&ascene=0&uin=ODM1Njg5MDgx&devicetype=iMac